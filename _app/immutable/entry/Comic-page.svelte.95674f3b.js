import{S as F,i as G,s as H,k as _,q as u,a as R,l as d,m as I,r as f,h as v,c as T,p as k,I as z,n as E,b as N,E as i,u as U,F as C,o as V}from"../chunks/index.06a77c03.js";function B(a){let t,n,o,c=a[0].title+"",l,p,m,P,g=a[0].alt+"",y,b,h,q,w,L,s,D,S;return{c(){t=_("div"),n=_("h1"),o=u("Title: "),l=u(c),p=R(),m=_("p"),P=u("Alt: "),y=u(g),b=R(),h=_("p"),q=u("Date: "),w=u(a[1]),L=R(),s=_("img"),this.h()},l(r){t=d(r,"DIV",{});var e=I(t);n=d(e,"H1",{});var j=I(n);o=f(j,"Title: "),l=f(j,c),j.forEach(v),p=T(e),m=d(e,"P",{});var A=I(m);P=f(A,"Alt: "),y=f(A,g),A.forEach(v),b=T(e),h=d(e,"P",{});var M=I(h);q=f(M,"Date: "),w=f(M,a[1]),M.forEach(v),L=T(e),s=d(e,"IMG",{style:!0,src:!0,alt:!0}),e.forEach(v),this.h()},h(){k(s,"display","block"),k(s,"margin-left","auto"),k(s,"margin-right","auto"),k(s,"width","fit-content"),z(s.src,D=a[0].img)||E(s,"src",D),E(s,"alt",S=a[0].alt)},m(r,e){N(r,t,e),i(t,n),i(n,o),i(n,l),i(t,p),i(t,m),i(m,P),i(m,y),i(t,b),i(t,h),i(h,q),i(h,w),i(t,L),i(t,s)},p(r,[e]){e&1&&c!==(c=r[0].title+"")&&U(l,c),e&1&&g!==(g=r[0].alt+"")&&U(y,g),e&2&&U(w,r[1]),e&1&&!z(s.src,D=r[0].img)&&E(s,"src",D),e&1&&S!==(S=r[0].alt)&&E(s,"alt",S)},i:C,o:C,d(r){r&&v(t)}}}async function J(){const a=new URLSearchParams;return fetch("https://fwd.innopolis.app/api/hw2?email=v.zelenokor@innopolis.university"+a.toString()).then(t=>t.json())}async function K(a){const t=new URLSearchParams;return fetch("https://getxkcd.vercel.app/api/comic?num="+a+t.toString()).then(n=>n.json())}function O(a,t,n){let{comic:o={title:"",img:"",alt:"",year:"",month:"",day:""}}=t,{getDate:c=""}=t;return V(async()=>{const l=await J(),p=await K(l);n(0,o=p),n(1,c=new Date(parseInt(o.year),parseInt(o.month),parseInt(o.day)).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),a.$$set=l=>{"comic"in l&&n(0,o=l.comic),"getDate"in l&&n(1,c=l.getDate)},[o,c]}class W extends F{constructor(t){super(),G(this,t,O,B,H,{comic:0,getDate:1})}}export{W as default};
